@using DirigoEdgeCore.Utils
@model List<DirigoEdgeCore.Data.Entities.Blog>

@{
    foreach (var post in Model)
    {
        <div class="relatedPost relative">
    
            <div class="categoryStick">
                <a href="/blog/@ContentUtils.GetFormattedUrl(post.MainCategory)">@post.MainCategory</a>
            </div>
    
            <article data-id="@post.BlogId">
                @* Blog Author *@
                @{
                    var relatedAuthorUrl = "#";
                    var image = "/Content/StockFeaturedImages/recordsPlayer.jpg";
                    if (post.Author != "")
                    {
                        relatedAuthorUrl = post.BlogAuthorUrl ?? "#";
                    }
                    if (post.ImageUrl != "")
                    {
                        image = post.ImageUrl;
                    }
                }
                <h5><a href="/blog/@ContentUtils.GetFormattedUrl(post.MainCategory)/@post.PermaLink">@post.Title</a></h5>
                <div class="relatedPostImage">
                    <p>
                        <img class="img-responsive" src="@image" alt="Related Blog Image"/>    
                    </p>
                </div>
                <p>
                    Written by <a href="@relatedAuthorUrl" @post.BlogAuthor.DisplayName</a>
                    <span class="dateLine">@post.Date.ToLongDateString()</span>
                </p>
    
            </article>
        </div>
    }
}